/* Responsive upgrade for your flipbook styles */
@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

:root {
  /* Use fluid type + spacing */
  --step--1: clamp(0.78rem, 0.72rem + 0.3vw, 0.9rem);
  --step-0: clamp(0.94rem, 0.87rem + 0.35vw, 1.05rem);
  --step-1: clamp(1.05rem, 0.95rem + 0.6vw, 1.25rem);
  --step-2: clamp(1.25rem, 1.1rem + 0.9vw, 1.6rem);
  --radius: 10px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}

html, body { height: 100%; }

body {
  display: grid;
  place-content: center;
  min-height: 100dvh; /* account for mobile browser UI */
  padding: 12px; /* breathing room on small screens */
  background: #0f172a;
  color: #e5e7eb;
}

/*
  Flipbook container: make it fluid by default.
  On wide screens it caps at 900px, on phones it fills the viewport minus padding.
  We keep an aspect ratio so pages scale nicely even if JS plugin expects fixed dims.
*/
.flipbook {
  width: min(100vw - 24px, 900px);
  aspect-ratio: 4 / 3; /* fallback shape; adjust to your page ratio */
  height: auto; /* derived from aspect-ratio */
  max-height: min(80vh, 720px);
  overflow: hidden;
  border-radius: var(--radius);
}

/* Hard cover pages */
.flipbook .hard {
  background: #c0392b !important;
  color: #fff;
  font-weight: 700;
  border: none;
}

.flipbook .hard small{
  font-style: italic;
  font-weight: 400;
  opacity: 0.8;
  font-size: var(--step--1);
}

/* Inner pages */
.flipbook .page {
  background: #fff;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 10px;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.page img {
  width: 100%;
  height: auto; /* avoid image distortion */
  object-fit: contain; /* show entire image within page */
  border-radius: calc(var(--radius) - 2px);
}

.flipbook .page small{
  font-size: var(--step--1);
  margin-bottom: 8px;
  color: #111827;
}

/* Controls */
.control-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: clamp(10px, 2.5vw, 20px);
  padding: 12px 0 0 0;
  color: #fff;
  font-size: var(--step-0);
  flex-wrap: wrap; /* allow wrapping on narrow screens */
}

.control-bar button {
  background: #222;
  color: #fff;
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: var(--step-0);
  line-height: 1;
  transition: transform 0.2s ease, opacity 0.2s ease;
  min-height: 44px; /* comfortable touch targets */
  min-width: 44px;
}

.control-bar button:hover { transform: translateY(-1px); }
.control-bar button:active { transform: translateY(0); opacity: 0.9; }

#page-info { font-weight: 700; }

/* ---------------------- Responsive Tweaks ---------------------- */

/* Phones */
@media (max-width: 600px) {
  body { padding: 10px; }

  .flipbook {
    width: 100%;
    aspect-ratio: 3 / 4; /* flip to a portrait-first feel on phones */
    max-height: 78dvh;
  }

  .flipbook .page { gap: 8px; }
}

/* Tablets */
@media (min-width: 601px) and (max-width: 1024px) {
  .flipbook {
    width: min(92vw, 820px);
    aspect-ratio: 4 / 3;
    max-height: 82dvh;
  }
}

/* Desktops / large laptops */
@media (min-width: 1025px) {
  .flipbook {
    width: min(70vw, 900px);
    aspect-ratio: 4 / 3;
  }
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .control-bar button { transition: none; }
}
